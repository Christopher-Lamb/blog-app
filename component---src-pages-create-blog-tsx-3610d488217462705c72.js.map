{"version":3,"file":"component---src-pages-create-blog-tsx-3610d488217462705c72.js","mappings":"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","sources":["webpack://my-gatsby-site/./src/pages/create-blog.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport type { HeadFC, PageProps } from \"gatsby\";\nimport { Authenticated, Navbar, DynamicText, Footer, ContentSelector, ImgItem, SaveButton, PublishToggle } from \"../components\";\nimport { DragDropContext, Droppable, Draggable, DropResult } from \"react-beautiful-dnd\";\nimport { MdDragHandle } from \"react-icons/md\";\nimport { FaTrash } from \"react-icons/fa\";\nimport { generateUID, moveItemDND } from \"../utils\";\n\ninterface BlogItem {\n  id: string;\n  type: string;\n  content: string;\n  src?: string | ArrayBuffer;\n}\n\ntype PlaceholderMap = {\n  [key: string]: string;\n};\n\nconst placeholderMap: PlaceholderMap = {\n  h2: \"Subheading\",\n  p: \"Paragraph\",\n};\n\nconst CreateBlogContent = (props: PageProps) => {\n  const [blogItems, setBlogItems] = useState<Record<string, BlogItem>>({});\n  const [blogItemIds, setBlogItemIds] = useState<string[]>([]);\n\n  useEffect(() => {\n    const demoBlogItems = {\n      title: { id: \"title\", type: \"h1\", content: \"<h1>The Title of the Blog</h1>\" },\n      subtitle: { id: \"subtitle\", type: \"span\", content: \"<span>this article will highliht the world view of dem dems</span>\" },\n      \"item-2\": { id: \"item-2\", type: \"h2\", content: \"<h2></h2>\" },\n      \"item-3\": {\n        id: \"item-3\",\n        type: \"p\",\n        content: \"<p></p>\",\n      },\n      \"item-4\": {\n        id: \"item-4\",\n        type: \"img\",\n        content: \"This is an image of some shit coffee\",\n        src: \"https://res.cloudinary.com/dur3duyjo/image/upload/v1711109877/Blog_Site/DALL_E_2024-03-16_19.05.47_-_Create_a_cartoon_image_of_a_confident_young_woman_sitting_on_a_beach._She_has_medium-dark_skin_is_wearing_a_bright_green_bikini_top_and_brown_bikini_ifiudk.webp\",\n      },\n    };\n\n    setBlogItems(demoBlogItems);\n    setBlogItemIds([\"item-2\", \"item-3\", \"item-4\"]);\n  }, []);\n\n  const handleDragEnd = (result: DropResult) => {\n    const newArr = moveItemDND(blogItemIds, result);\n    if (newArr) {\n      setBlogItemIds(newArr);\n      // updateTodoPosition(newArr, \"mainIds\");\n    }\n  };\n\n  const handleAddBlogItem = (type: string) => {\n    const uid = \"blogitem-\" + generateUID();\n    setBlogItemIds((prevIds) => [...prevIds, uid]);\n    if (type === \"img\") {\n      setBlogItems((prevItems) => ({ ...prevItems, [uid]: { id: uid, type: type, file: \"\", content: `<label></label>` } }));\n    } else {\n      setBlogItems((prevItems) => ({ ...prevItems, [uid]: { id: uid, type: type, content: `<${type}></${type}>` } }));\n    }\n  };\n\n  const handleDelete = (delId: string) => {\n    const objStore = JSON.parse(JSON.stringify(blogItems));\n    delete objStore[delId];\n    setBlogItems(objStore);\n    setBlogItemIds((prevIds) => prevIds.filter((id) => id !== delId));\n  };\n\n  const handleSave = () => {\n    // AXIOS SAVE CONTENTS\n    // console.log(\"Saved\");\n  };\n\n  const handlePublish = (value: boolean) => {\n    if (value) handleSave();\n    // AXIOS PUBLISH === true\n    // console.log(value);\n  };\n\n  const handleImgChange = (id: string, file: string | ArrayBuffer, text: string) => {\n    // console.log({ id, file, text });\n    setBlogItems((prevItems) => ({ ...prevItems, [id]: { ...prevItems[id], content: text, src: file } }));\n  };\n\n  const formattedCurrentDate = new Date().toLocaleDateString(\"en-US\", {\n    weekday: \"short\", // abbreviated day of the week\n    year: \"numeric\", // numeric year\n    month: \"short\", // abbreviated month name\n    day: \"numeric\", // numeric day of the month\n  });\n\n  return (\n    <main>\n      <DragDropContext onDragEnd={handleDragEnd}>\n        <Navbar />\n        {/* <SiteBanner /> */}\n        {/* <SearchBar /> */}\n        <div className=\"flex justify-end mx-auto max-w-five\">\n          <div className=\"flex flex-col md:flex-row items-center gap-small\">\n            <SaveButton onSave={handleSave} />\n            <div className=\"flex items-cente gap-3xsmall\">\n              <label htmlFor=\"Publish Toggle\" className=\"text-med\">\n                Published\n              </label>\n              <PublishToggle onChange={handlePublish} />\n            </div>\n          </div>\n        </div>\n        <div className=\"flex flex-col items-start blog mt-med container mx-auto px-4 md:px-0 xl:max-w-five min-h-[80vh]\">\n          {blogItems[\"title\"] && (\n            <>\n              <DynamicText className=\"w-full\" placeholder=\"Headline\" primaryElement={\"h1\"} secondaryElement={\"none\"} onChange={() => {}} content={blogItems[\"title\"].content}></DynamicText>\n              <DynamicText\n                className=\"w-full\"\n                placeholder=\"Subheadline\"\n                primaryElement={\"span\"}\n                id=\"subtitle\"\n                secondaryElement={\"none\"}\n                onChange={() => {}}\n                content={blogItems[\"subtitle\"].content}\n              ></DynamicText>\n              <span id=\"author\">Inserted Author</span>\n              <span id=\"date\">{formattedCurrentDate}</span>\n            </>\n          )}\n          <Droppable droppableId=\"main\">\n            {(provided, snapshot) => (\n              <div className=\"borderl w-full\" ref={provided.innerRef} {...provided.droppableProps}>\n                {blogItemIds.map((itemId, i) => (\n                  <DragWrapper id={itemId} index={i} key={itemId} type={blogItems[itemId].type} onDelete={handleDelete}>\n                    {blogItems[itemId].type === \"img\" ? (\n                      <ImgItem index={i} handleChange={(file, text) => handleImgChange(itemId, file, text)} content={blogItems[itemId].content} src={blogItems[itemId].src} />\n                    ) : (\n                      <DynamicText\n                        className=\"w-full\"\n                        primaryElement={blogItems[itemId].type}\n                        secondaryElement={blogItems[itemId].type === \"p\" ? \"p\" : \"none\"}\n                        onChange={(s) => {\n                          // console.log(s);\n                        }}\n                        placeholder={placeholderMap[blogItems[itemId].type]}\n                        content={blogItems[itemId].content}\n                      ></DynamicText>\n                    )}\n                  </DragWrapper>\n                ))}\n\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n\n          <ContentSelector className=\"mt-3xsmall\" onClick={handleAddBlogItem} />\n        </div>\n      </DragDropContext>\n      <Footer className=\"mt-large\" />\n    </main>\n  );\n};\n\ninterface DragWrapperProps {\n  id: string;\n  index: number;\n  children?: React.ReactNode;\n  type?: string;\n  onDelete: (delId: string) => void;\n}\n\nconst DragWrapper: React.FC<DragWrapperProps> = ({ id, index, children, type, onDelete }) => {\n  let marginTop = \"0\";\n  switch (type) {\n    case \"img\":\n      marginTop = \"mt-4\";\n      break;\n    case \"h2\":\n      marginTop = \"mt-2.5\";\n      break;\n    case \"p\":\n      marginTop = \"mt-1\";\n      break;\n  }\n\n  return (\n    <Draggable draggableId={id} index={index}>\n      {(provided) => (\n        <div ref={provided.innerRef} {...provided.draggableProps} className={\"flex gap-2 \" + marginTop}>\n          {/* <div className=\"relative h-auto flex justify-center\"></div> */}\n          {children}\n          <div className=\"relative primary h-8 w-8 flex rounded\" {...provided.dragHandleProps}>\n            <MdDragHandle size={\"2rem\"} />\n          </div>\n          <button onClick={() => onDelete(id)} className=\"relative accent h-8 w-8 flex items-center justify-center rounded\">\n            <FaTrash size={\"1rem\"} />\n          </button>\n        </div>\n      )}\n    </Draggable>\n  );\n};\n\n// Now, wrap ProfilePageContent with Authenticated and export this instead\nconst CreateBlogPage = (props: PageProps) => {\n  return <Authenticated WrappedComponent={CreateBlogContent} {...props} />;\n};\n\nexport default CreateBlogPage;\nexport const Head: HeadFC = () => <title>Create Blog</title>;\n"],"names":["placeholderMap","h2","p","CreateBlogContent","props","blogItems","setBlogItems","useState","blogItemIds","setBlogItemIds","useEffect","title","id","type","content","subtitle","src","handleDelete","delId","objStore","JSON","parse","stringify","prevIds","filter","handleSave","formattedCurrentDate","Date","toLocaleDateString","weekday","year","month","day","React","DragDropContext","onDragEnd","result","newArr","moveItemDND","Navbar","className","SaveButton","onSave","htmlFor","PublishToggle","onChange","value","DynamicText","placeholder","primaryElement","secondaryElement","Droppable","droppableId","provided","snapshot","Object","assign","ref","innerRef","droppableProps","map","itemId","i","DragWrapper","index","key","onDelete","ImgItem","handleChange","file","text","handleImgChange","prevItems","s","ContentSelector","onClick","uid","generateUID","concat","_toConsumableArray","Footer","_ref","children","marginTop","Draggable","draggableId","draggableProps","dragHandleProps","MdDragHandle","size","FaTrash","Authenticated","WrappedComponent","Head"],"sourceRoot":""}